FROM ubuntu:22.04
ENV DEBIAN_FRONTEND=noninteractive
RUN apt-get update && apt-get install -y \
openssh-client \
git \
php-cli \
unzip \
curl \
ca-certificates \
&& rm -rf /var/lib/apt/lists/*


# Create user jenkins (not Jenkins inside container, just an account to run agent commands)
RUN useradd -m -s /bin/bash jenkins
USER jenkins
WORKDIR /home/jenkins


# Default entry: keep container running and expose ssh-agent socket if needed
CMD ["/bin/bash", "-c", "while sleep 3600; do :; done"]